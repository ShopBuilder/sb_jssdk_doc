<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Functions - Shopbuilder SDK documentation</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Functions";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Shopbuilder SDK documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Set up</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>SDK</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../introduction/">Introduction</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../globals/">Globals</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Functions</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#bo-table-component">BO - Table Component</a></li>
                
            
                <li class="toctree-l3"><a href="#bo-top-action-button">BO - Top Action Button</a></li>
                
            
                <li class="toctree-l3"><a href="#fo-throbber-loader">FO - Throbber / Loader</a></li>
                
            
                <li class="toctree-l3"><a href="#fo-apply-special-select-effect-on-existing-selects">FO - Apply Special Select Effect On Existing Selects</a></li>
                
            
                <li class="toctree-l3"><a href="#fo-get-resource-rendered-raw-html">FO - Get Resource - Rendered Raw HTML</a></li>
                
            
                <li class="toctree-l3"><a href="#create-custom-page">Create Custom Page</a></li>
                
            
                <li class="toctree-l3"><a href="#refresh">Refresh</a></li>
                
            
                <li class="toctree-l3"><a href="#menu-titles">Menu Titles</a></li>
                
            
                <li class="toctree-l3"><a href="#user-forms">User Forms</a></li>
                
            
                <li class="toctree-l3"><a href="#maintain-data-from-logged-out-to-logged-in-page">Maintain Data From Logged-out To Logged-in Page</a></li>
                
            
                <li class="toctree-l3"><a href="#validating-user-uoken">Validating User Uoken</a></li>
                
            
                <li class="toctree-l3"><a href="#dialog">Dialog</a></li>
                
            
                <li class="toctree-l3"><a href="#carousel">Carousel</a></li>
                
            
                <li class="toctree-l3"><a href="#parallax">Parallax</a></li>
                
            
                <li class="toctree-l3"><a href="#color-picker">Color Picker</a></li>
                
            
                <li class="toctree-l3"><a href="#drag-ability">Drag Ability</a></li>
                
            
                <li class="toctree-l3"><a href="#messages">Messages</a></li>
                
            
                <li class="toctree-l3"><a href="#dom-generation-management">Dom Generation & Management</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../events/">Events</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../callbacks/">Callbacks</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../dom-generation/">DOM Generation & Management</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Shopbuilder SDK documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>SDK &raquo;</li>
        
      
    
    <li>Functions</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><strong>Note that:</strong> <br />
- The titles prefixed by <strong>BO</strong> means that the function was made specifically for the <strong>Back office pages</strong>      <br />
- The titles prefixed by <strong>FO</strong> means that the function was made specifically for the <strong>Front office pages</strong> <br />
- <strong>Otherwise</strong> the function is made to be used for <strong>both</strong>.     </p>
<p><strong>Functions</strong> are found in  <code>window.SBsdk.SBfunctions</code>              </p>
<p>To see all of the functions available:       <br />
- open your shopbuilder website     <br />
- open the console and type <code>console.log(window.SBsdk.SBfunctions)</code>       </p>
<hr />
<h4 id="bo-table-component">BO - Table Component</h4>
<p><code>SBsdk.SBfunctions.backoffice_table(options);</code> <br />
<strong>Parameters:</strong>        <br />
the <code>options</code> parameter has the following structure:    </p>
<pre><code>options = {
  prepend_to_selector: '.selector-to-prepend-to' OR '#selector-to-prepend-to',
  wrapperClass: 'wrapper-class', 
  class: 'class-class',
  custom_cols_length : 8,
  checkboxes : 1, 
  image: 1,
  custom_header: [{index: 2, value: 'title2'}, {index: 1, value: 'title1'}],
  data: [ {
            class: '',
            row_id: 'this-row-1', 
            img_url: 'https://...',
            custom_columns: [ {index: 1, value: 'index2 text', class: ''} , {index: 0, value: 'index0 text', class: ''} ] // column data added.
          },
          {...},
          ..
        ],
  pagination: {wrapperClass:'', itemsTotal: '', itemsPerPage: '', callback: ''},
  delete: 'delete_callback',
  search:  {class: '', wrapperClass:'', callback: 'search_callback'},
};
</code></pre>

<p><em>Where:</em> <br />
-<code>prepend_to_selector</code> is the selector to prepend the table to <em>(by default will be appeneded to the <code>body</code>)</em>.     <br />
-<code>wrapperClass</code> is the wrapper class of the table.      <br />
-<code>class</code> is the class of the table.        <br />
-<code>custom_cols_length</code> specify how many custom rows you wish to have other than del, checkbox and image cols.                      <br />
-<code>checkboxes</code> enables checkboxes.                <br />
-<code>image</code> enables usage of images.    <br />
-<code>custom_header</code> add the titles in the header of your table in a specific index.   <br />
-<code>data</code> is where you start filling the table content.     </p>
<ul>
<li><code>row_id</code> is the id of your row</li>
<li><code>img_url</code> is the image url of this specific row -- image option should be enabled</li>
<li><code>custom_columns</code> the content of your table in a specific index.     </li>
</ul>
<p>-<code>pagination</code> enables the pagination functionality.      </p>
<ul>
<li>Add the number of items per page <code>itemsPerPage</code> and the total number of results in <code>itemsTotal</code>.       </li>
<li>If <code>itemsTotal</code> &lt;=  <code>itemsPerPage</code>, there will be no pagination.       </li>
<li>Add the name of your <code>pagination callback function</code> and don't forget to <code>define it</code>.       </li>
<li>This function will be called when paginating and given a <code>parameter</code> of <code>table_id</code> and <code>page number</code>.         </li>
<li>It should <code>return wait</code> so that it waits for the data to be fetched      </li>
<li>When your data is fetched call the function <code>SBsdk.SBfunctions.backoffice_table_paginate_done(table_id, newdata, number_of_page_requested);</code> <br />
-- <em>Where</em>   <br />
-<strong>newdata</strong> is of the following format:   </li>
</ul>
<pre><code>var newdata = [ {
    class: '',
    row_id: 'this-row-1', 
    img_url: 'https://...',
    custom_columns: [ {index: 1, value: 'index2 text', class: ''} , {index: 0, value: 'index0 text', class: ''} ] // column data added.
  },
  {...},
  ..
],
</code></pre>

<p>-<code>delete</code> enables the delete functionality.      </p>
<ul>
<li>Add the name of your <code>delete callback function</code> and don't forget to <code>define it</code>.       </li>
<li>This function will be given a <code>table_id</code> and <code>array of row ids</code> as a <code>parameter</code>.   </li>
<li>It should <code>return wait</code> so that it waits for the data to be fetched        </li>
<li>When your data is fetched call the function <code>SBsdk.SBfunctions.backoffice_table_delete_done(table_id, result, pagination_total_items);</code> <br />
-- <em>Where</em>      <br />
-<strong>result</strong> is of the following format:<br />
if error : <code>{error : 'error-message', deleted_successfully:[row_id1, row_id2 ..], 10}</code>          <br />
if success : <code>{deleted_successfully:[row_id1, row_id2 ..], 10}</code><br />
-<strong>pagination_total_items</strong> (optional) in case of pagination -- specify the new total number of records after the deletion  </li>
</ul>
<p>-<code>search</code> enables the search functionality.      </p>
<ul>
<li>Add the name of your <code>search callback function</code> and don't forget to <code>define it</code>.       </li>
<li>This function will be given a <code>table_id</code> and the search <code>text</code> as a <code>parameter</code>.         </li>
<li>It should <code>return wait</code> so that it waits for the data to be fetched      </li>
<li>When your data is fetched call the function <code>SBsdk.SBfunctions.backoffice_table_search_done(table_id, newdata, pagination_total_items);</code> <br />
-- <em>Where</em>   <br />
-<strong>pagination_total_items</strong> (optional) in case of pagination -- specify the new total number of records after the search<br />
-<strong>newdata</strong> is of the following format:   </li>
</ul>
<pre><code>var newdata = [ {
    class: '',
    row_id: 'this-row-1', 
    img_url: 'https://...',
    custom_columns: [ {index: 1, value: 'index2 text', class: ''} , {index: 0, value: 'index0 text', class: ''} ] // column data added.
  },
  {...},
  ..
],
</code></pre>

<p><strong>Return:</strong>
the return of this function will be of this structure:</p>
<pre><code>{table_id : 'data-bo-table-name-{{id}}' , dom: 'html-of-the-table-generated'}
</code></pre>

<p><strong>purpose:</strong>     <br />
- Generates a table as the one we have in the backoffice     <br />
- Has the option to add checkboxes to select a row or to select all rows      <br />
- Has the option to delete a row or to delete multiple rows  <br />
- Has the option to add an image per row             </p>
<p><strong>preview:</strong>    <br />
<img alt="table-component" src="../../img/table-component.png" />    </p>
<p><strong>Helper functions:</strong>   <br />
<em>-To get all the checked rows:</em>       <br />
Returns an array of checked row ids
<code>SBsdk.SBfunctions.backoffice_table_get_checked_row_ids(table_id);</code>  </p>
<p><strong>Example:</strong></p>
<pre><code>// Step 1: define the options you need
options = {
  search: {class: 'testing-class', wrapperClass:'hello', callback: 'search_me'},
  pagination: {wrapperClass:'hello', itemsTotal: '20', itemsPerPage: '5', callback: 'paginate_to_page'},
  wrapperClass: 'wrapper-class',
  class: 'class-class',
  custom_cols_length : 8,
  checkboxes : 1,
  image: 1,
  delete: 'delete_callback',
  custom_header: [{index: 2, value: 'title2'}, {index: 1, value: 'title1'}],
  data: [  {
            class: 'class111111',
            row_id: 'this-row-1',
            img_url: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4AzTskTQPjEiS7-ZA5Vkv7Jf02JcFelXvl7hDYMwM5eBx2tszMw',
            custom_columns: [ {index: 1, value: 'index2 text', class: 'lalalalal'} , {index: 0, value: 'index0 text'} ]
           },
           {
            row_id: 'this-row-2',
            img_url: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4AzTskTQPjEiS7-ZA5Vkv7Jf02JcFelXvl7hDYMwM5eBx2tszMw',
            custom_columns: [ {index: 1, value: 'index11 text'} , {index: 0, value: 'index00 text'} ]
           },
        ],
};
// Step 2: define your delete callback function
window.delete_callback = function(table_id, array_of_row_ids_to_be_deleted){
  // process your data
  // fetch  your data
  jQuery.ajax({
    url: ...,
    success: function(result){
      - Call the function to end the wait and to notify that the result came back
      SBsdk.SBfunctions.backoffice_table_search_done(table_info.table_id, {deleted_successfully:['row_id1', 'row_id2']});
    }
  });
return 'wait';

}


// Step 3: define your pagination callback function.
window.paginate_to_page = function(table_id, pg_nb){
  console.log(table_id, pg_nb);
  // process your data
  // fetch  your data
  jQuery.ajax({
    url: ...,
    success: function(result){
      // 1- process the result
      // 2- Call the function to end the wait and to notify that the result came back
      SBsdk.SBfunctions.backoffice_table_paginate_done(table_info.table_id, result, pg_nb);
    }
  });
  return 'wait';
}


// Step 4: create your table that will be inserted in the page.

var table_info = SBsdk.SBfunctions.backoffice_table(options);

// Step 5: define your search callback function
window.search_me = function(table_id, text){
  // process your data
  // fetch  your data
  jQuery.ajax({
    url: ...,
    success: function(result){
      // 1- process the result
      // 2- Call the function to end the wait and to notify that the result came back
      SBsdk.SBfunctions.backoffice_table_search_done(table_info.table_id, result);
    }
  });
  return 'wait';
};

console.log(table_info.table_id); // returns table_id; something like `data-bo-table-name-{{id}}`
console.log(table_info.dom); // returns the table html that was prepended to the dom.

SBsdk.SBfunctions.backoffice_table_get_checked_row_ids(table_info.table_id);  // returns an array of the checked row_ids
</code></pre>

<p><strong>Note:</strong> if you are not injecting your table on page load (ex. case of ajax) then call the <a href="../../sdk/functions/#refresh">refresh function</a> afterwards.</p>
<hr />
<hr />
<h4 id="bo-top-action-button">BO - Top Action Button</h4>
<p>Generates a top action button in the <strong>back office</strong> pages.   </p>
<p><code>window.SBsdk.SBfunctions.add_top_action_button(options);</code>      <br />
The parameter options has the following structure:              </p>
<pre><code>options = {
  class: 'class',  // class of the btn
  id: 'idddsss', // id of the btn
  name: 'naaameeee', // name of the btn
  Title: 'Titleeee' // title of the btn
} 
</code></pre>

<p><img alt="top_action_btn_" src="../../img/top_action_btn_.png" /></p>
<hr />
<h4 id="fo-throbber-loader">FO - Throbber / Loader</h4>
<p>to add a throbber to the page.  <br />
call <code>SBsdk.SBfunctions.loader(action, time_in_ms);</code>               </p>
<p><strong>Note:</strong> <br />
1- <code>SBsdk.SBfunctions.loader()</code> // add a throbber to the page    <br />
2- <code>SBsdk.SBfunctions.loader('remove')</code> // removes a throbber from the page       <br />
3- <code>SBsdk.SBfunctions.loader('remove', 100)</code> // removes a throbber from the page after 100 ms                <br />
4- the throbber is in the following markup: <code>&lt;div class="ajax-progress ajax-progress-throbber sdk-throbber"&gt;&lt;/div&gt;</code> (Given for styling purposes)                 </p>
<p><strong>Note:</strong>   </p>
<pre><code>// @Code
// Consider the following senario

//**app1 calls:**         
SBsdk.SBfunctions.loader();

//**app2 calls:**         
SBsdk.SBfunctions.loader();
SBsdk.SBfunctions.loader('remove');

// @Result
// In this case the Throbber/Loader Will not be removed from the page
// Unless all apps that registered the throbber calls the `remove` action.
// Thus, to remove the throbber app1 has to call `SBsdk.SBfunctions.loader('remove');`     
</code></pre>

<hr />
<h4 id="fo-apply-special-select-effect-on-existing-selects">FO - Apply Special Select Effect On Existing Selects</h4>
<p>To transform existing select found in the website to a <a href="../../sdk/dom-generation/#special-select">special select</a> use the function of <code>window.SBsdk.SBfunctions.sbsdk_select_style (selector, options)</code>;   </p>
<p><em>where</em>:                   <br />
<strong>Selector</strong> is your select field selector ex: <code>#selector</code> or <code>.selector</code>     <br />
and <strong>options</strong>: <code>(optional)</code>               </p>
<blockquote>
<p><code>options = {</code>       <br />
<code>dropdownCssClass: 'class',</code> // class that is added for the dropdown   <br />
<code>addAsterisk: defaultValueOfSelectField,</code> // adding astericks for the default value   <br />
<code>searchable: {placeholder: 'hello'},</code> // adding a search field with an optional placeholder        <br />
<code>}</code>              </p>
</blockquote>
<p><em>Note 1: If you want to call this library for a select <strong>after ajax call</strong> this function in <a href="../../sdk/callbacks/#page-ajax-events">page_event_{{appd}}</a></em>             </p>
<p><em>Note 2: If you want to generate a special select, check <a href="../../sdk/dom-generation/#special-select">here</a>.</em>          </p>
<p><strong>Example:</strong>   </p>
<pre><code>window.SBsdk.SBfunctions.sbsdk_select_style('select#edit-field-gender-und',
{
  dropdownCssClass: 'hello-dropdown-css-class',
  addAsterisk:  '_none',
  searchable: {placeholder: 'hello'}
});

</code></pre>

<hr />
<h4 id="fo-get-resource-rendered-raw-html">FO - Get Resource - Rendered Raw HTML</h4>
<p>In general <strong>get resource</strong> is a way to get the html with its functionality as it is in the shopbuilder platform.      <br />
<strong>Usage</strong>:     </p>
<pre><code>window.SBsdk.SBfunctions.get_resource(resource_type, resource_data, function (result) {
  // returns the html of the needed resouce and functionality in (result) var
});
</code></pre>

<p><strong>Available Resources</strong>:         <br />
~~~~~~~~~~~~~~~~~~       </p>
<p>-<strong>view_product</strong>      </p>
<p>-This resouce gets the <strong>product view html</strong> with its functionality. You can place this HTML where you want, for you have full control of it.                            <br />
-Product node ID is used in the request. {base_url}/sb/product_view/{prodId}        <br />
<strong>Usage:</strong>               </p>
<pre><code>window.SBsdk.SBfunctions.get_resource('view_product', {'id': prodId}, function (result) {
  // The html of the product and functionality are all in (result) var
});
</code></pre>

<hr />
<h4 id="create-custom-page">Create Custom Page</h4>
<p><strong>A)</strong> <em>To create a <strong>front office</strong> page use the url of <strong>/app_page/</strong>:</em>          </p>
<p><strong>/app_page/{name of page}/{query string 1}/{query string 2}/</strong></p>
<p><strong>Steps:</strong>   </p>
<p>1-  <a href="../../sdk/functions/#menu-titles">inject a new menu title <strong>Or</strong> Update a menu title url</a>; This <strong>menu title</strong> should have the <strong>url</strong> of your new page <code>/   app_page/{name of your page}/</code>                        </p>
<p>2- now to get your page information check <code>window.SBsdk.SBdata.page</code>      <br />
- you will find the name of your page in <code>window.SBsdk.SBdata.page.id</code>      <br />
- you will find the querystrings of your page in <code>window.SBsdk.SBdata.page.query_strings</code>     <br />
- you can know the type of your page using <code>window.SBsdk.SBdata.page.type</code> in this case it will be <strong>custom-front</strong>    </p>
<p>3-  use the pages info (window.SBsdk.SBdata.page) to inject your data and enjoy      </p>
<p><strong>B)</strong> <em>To create a <strong>back office</strong> page use the url of <strong>/admin/app_page/</strong>:</em>          </p>
<p><strong>/admin/app_page/{name of page}/{query string 1}/{query string 2}/</strong></p>
<p><strong>Steps:</strong>   </p>
<p>1-  <a href="../../sdk/functions/#menu-titles">inject a new menu title <strong>Or</strong> Update a menu title url</a>; This <strong>menu title</strong> should have the <strong>url</strong> of your new page <code>/admin/app_page/{name of your page}/</code>                        </p>
<p>2- now to get your page information check <code>window.SBsdk.SBdata.page</code>      <br />
- you will find the name of your page in <code>window.SBsdk.SBdata.page.id</code>      <br />
- you will find the querystrings of your page in <code>window.SBsdk.SBdata.page.query_strings</code>     <br />
- you can know the type of your page using <code>window.SBsdk.SBdata.page.type</code> in this case it will be <strong>custom-front</strong>    </p>
<p>3-  use the pages info (window.SBsdk.SBdata.page) to inject your data and enjoy   </p>
<hr />
<h4 id="refresh">Refresh</h4>
<p>The refresh function attaches all the libraries again on the selectors if not attached before.</p>
<p>incase of <strong>ajax</strong> or <em>inserting dom</em> using <strong>dom generation</strong> functions      <br />
if there are some libraries not being initialized on elements      <br />
call the refresh function:         <br />
<code>window.SBsdk.SBfunctions.refresh();</code>   </p>
<hr />
<h4 id="menu-titles">Menu Titles</h4>
<p><strong>A) Delete Existing Menu links:</strong>             </p>
<p>To delete menu links use the function of <code>window.SBsdk.SBfunctions.delete_menu_links (menuLinksData);</code>         <br />
The <em>parameter</em> <code>menuLinksData</code> is of the following structure:   </p>
<pre><code>//Structure of the Parameter that should be given
 menuLinksData = [
    {
      menu_type: 'menu_type',
      menu_urls: ['/menu-url1', 'menu_title2']
    },
    {
      menu_type: 'menu_type',
      menu_urls: ['/menu-url1', 'menu_title2']
    },
 ];
</code></pre>

<p>Where:  <br />
<code>menu_urls</code>: should be an array of all the urls of the menu links to be deleted.             <br />
<code>menu_type</code>:  is a string that specifies in which menu do you want to add the menu link.  </p>
<p><code>menu_type</code> can have the following values:               <br />
- <strong>menu</strong> : the front office main menu       <br />
- <strong>menu_secondary</strong> the front office secondary menu      <br />
- <strong>footer</strong> the front office footer        <br />
- <strong>footer_secondary</strong> the front office secondary footer          <br />
- <strong>navigation_menu</strong> the back office navbar menu            </p>
<p><strong>Example:</strong></p>
<pre><code>var menuLinksData = [
    // deleting the (about us) and (home) menu title from the (main menu) and (footer)
    {
       menu_type: 'menu',
       menu_urls: ['/', '/aboutus']
    },
    {
       menu_type: 'footer',
       menu_urls: ['/', '/aboutus']
    },
];
window.SBsdk.SBfunctions.delete_menu_links(menuLinksData);
</code></pre>

<p><strong>B) Update Menu links:</strong>             </p>
<p>To update menu links use the function of <code>window.SBsdk.SBfunctions.update_menu_links (menuLinksData);</code>        <br />
The parameter <code>menuLinksData</code> is of the following structure:   </p>
<pre><code>//Structure of the Parameter that should be given**    
var  menuLinksData = [
  {
   menu_type: 'menu_type',
   data: [
     {
      menu_link:        {menu_title: 'menu_title1' ,  menu_url: '/menu-url1' }, // old menu
      update_menu_link: {menu_title: 'menu_title1_new' ,  menu_url: '/menu-url1_new' }, // new menu
     },
     {
      menu_link:        {menu_title: 'menu_title1' ,  menu_url: '/menu-url1' }, // old menu
      update_menu_link: {menu_title: 'menu_title1_new' ,  menu_url: '/menu-url1_new' }, // new menu
     }
   ]
  },
  {
   menu_type: 'menu_type2',
   data: [
     {
      menu_link:        {menu_title: 'menu_title1' ,  menu_url: '/menu-url1' },
      update_menu_link: {menu_title: 'menu_title1_new' ,  menu_url: '/menu-url1_new' },
     }
   ]
  }, ...
];
</code></pre>

<p>Where:      <br />
<code>menu_title</code> : is the title of the menu link.         <br />
<code>menu_url</code> : is the url of the menu link.         <br />
<code>menu_link</code> : old menu links data
<code>update_menu_link</code> : new menu links data      <br />
<code>menu_type</code> is a string that specifies in which menu do you want to add the menu link.     </p>
<p><code>menu_type</code> can have the following values:              <br />
- <strong>menu</strong> : the front office main menu <br />
- <strong>menu_secondary</strong> the front office secondary menu <br />
- <strong>footer</strong> the front office footer <br />
- <strong>footer_secondary</strong> the front office secondary footer  <br />
- <strong>navigation_menu</strong> the back office navbar menu    </p>
<pre><code>//Example:
var  menuLinksData = [
  {
    // in main menu
    menu_type: 'menu',
    data: [
      {  // update contact us menu title and url
       menu_link:        {menu_title: 'Contact Us' ,  menu_url: '/contact' },
       update_menu_link: {menu_title: 'Contact Me' ,  menu_url: '/contact-me' },
      },
      { // update collections menu title
       menu_link:        {menu_title: 'Collections ' ,  menu_url: '/collection/Collections' },
       update_menu_link: {menu_title: 'My Collection' ,  menu_url: '/collection/Collections' },
      }
    ]
  },
  {
    // in footer menu
    menu_type: 'footer',
    data: [
      { // update the contact us menu title
       menu_link:        {menu_title: 'Contact Us' ,  menu_url: '/contact' },
       update_menu_link: {menu_title: 'Contact meeee' ,  menu_url: '/contact' },
      }
    ]
  }, ...
];
window.SBsdk.SBfunctions.update_menu_links(menuLinksData);
</code></pre>

<p><strong>C) Add Menu links:</strong>             </p>
<p>To add menu links use the function of <code>window.SBsdk.SBfunctions.inject_menu_links (menuLinksData);</code>           <br />
The parameter <code>menuLinksData</code> is of the following structure:      </p>
<pre><code>//Structure of the Parameter that should be given    
menuLinksData = [          
  {             
    menu_type: 'menu_type',           
    data: [          
      {menu_title: 'menu_title1' ,  menu_url: '/menu-url1', id:&quot;id1&quot;, order: '1', class:'class1 class2' },      
      {menu_title: 'menu_title2' ,  menu_url: '/menu-url2', id:&quot;id2&quot;, order: '1', class:'class1 class2' ,       
         sub_menu: [        
           {menu_title: 'menu_sub_title' ,  menu_url: '/menu-sub-url' }    
         ]        
       }       
    ]       
  },        
  {        
    menu_type: 'menu_type',       
    data: [        
      {menu_title: 'menu_title' ,  menu_url: '/menu-url', id:&quot;id3&quot;, order: '1', class:'class1 class2' }      
     ]         
  },         
];        
</code></pre>

<p>Where:     <br />
<code>order</code> starts from value 0 it is where you want to position the your menu link       <br />
<code>menu_title</code> : is the title of the menu link.         <br />
<code>menu_url</code> : is the url of the menu link.         <br />
<code>sub_menu</code> : is an array of the menu links.      <br />
<code>menu_type</code>: is a string that specifies in which menu do you want to add the menu link.       </p>
<p><code>menu_type</code> can have the following values:             <br />
- <strong>menu</strong> : the front office main menu                    <br />
- <strong>menu_secondary</strong> the front office secondary menu          <br />
- <strong>footer</strong> the front office footer             <br />
- <strong>footer_secondary</strong> the front office secondary footer            <br />
- <strong>navigation_menu</strong> the back office navbar menu               </p>
<p><strong>Example:</strong></p>
<pre><code>var menuLinksData = [
  {
     menu_type: 'menu',
     data: [
       {menu_title: 'menu_title1' ,  menu_url: '/menu-url1', id:&quot;id1&quot;, order: '1', class:'class1 class2'  },
       {menu_title: 'menu_title2' ,  menu_url: '/menu-url2', id:&quot;id2&quot;, order: '1', class:'class1 class2', 
          sub_menu: [
            {menu_title: 'menu_sub_title' ,  menu_url: '/menu-sub-url' }
          ]
        }
     ]
  },
  {
     menu_type: 'footer',
     data: [
       {menu_title: 'menu_title' ,  menu_url: '/menu-url', id:&quot;id3&quot; , order: '1', class:'class1 class2' }
      ]
  },
];
window.SBsdk.SBfunctions.inject_menu_links (menuLinksData);
</code></pre>

<hr />
<h4 id="user-forms">User Forms</h4>
<p>User forms are the login, register and forget password forms.           </p>
<p><code>SBsdk.SBfunctions.SBsdk_user_forms(action, type);</code>                    <br />
where the parameter:     </p>
<p><strong>action</strong> can be:                           <br />
1- 'login' <em>(opens the login form)</em>       <br />
2- 'register' <em>(opens the register form)</em>                 <br />
3- 'forget-password' <em>(opens the forget password form)</em>           </p>
<p><strong>type</strong> (optional):    <br />
1- 'page' <strong>default value</strong> <em>(redirects to the <strong>action</strong> page)</em>    <br />
2- 'popup' <em>(opens a popup with the <strong>action</strong> form)</em>              </p>
<p>give it <strong>'popup'</strong> to open the <code>action</code> popup         </p>
<blockquote>
<p>Example: 
Let's try it out together:  <br />
open the console of your shopbuilder website and type.        <br />
<code>SBsdk.SBfunctions.SBsdk_user_forms('login', 'popup');</code>          <br />
this will open the register  popup          </p>
</blockquote>
<hr />
<h4 id="maintain-data-from-logged-out-to-logged-in-page">Maintain Data From Logged-out To Logged-in Page</h4>
<p>This is how to get your data after a successful login:     </p>
<p><strong>Step 1:</strong>    <br />
call <code>SBsdk.SBfunctions.notify_after_popup_login(str data)</code>;     <br />
while you are logged out with the data you want to maintain (send your data as a string)              </p>
<p><strong>Step 2:</strong>        <br />
use the <a href="../../sdk/functions/#user-forms">login popup</a> of the sdk to login..                </p>
<p><strong>Step3:</strong>     <br />
after logging in you will be able to get/access your data in <code>SBsdk.SBdata.page.init_event</code> where:                </p>
<pre><code>SBsdk.SBdata.page.init_event = {
  id: 'YOUR DATA',
  type: 'user',
  action: 'after login',
  query_strings: '?after-login-event=YOUR DATA'
}
</code></pre>

<hr />
<h4 id="validating-user-uoken">Validating User Uoken</h4>
<p>To verify the user token  <strong>call :</strong> <code>window.SBsdk.SBfunctions.verify_user_token(appID, user_token);</code>   </p>
<hr />
<h4 id="dialog">Dialog</h4>
<p><strong>A)</strong> To get a dialog:           </p>
<p>call <code>SBsdk.SBfunctions.dialog(content, options);</code>              </p>
<p>The parameters:   <br />
- <strong>content</strong> is a string with the dom needed inside this dialog  <br />
- <strong>options</strong> is a an object <em>(Optional)</em>                 </p>
<p><strong>options</strong> can have the following values:    </p>
<pre><code>options = {
  wrapperClass: 'wrapper-class',
  Title: (Str) 'title',
  SaveBtn: (Str) 'save-btn-name',
  buttons: ['button1name','button2name'],
  lockDialog: 1
}                 
//------------------OR------------------        
options = {
  wrapperClass: 'wrapper-class',
  Title: {name: 'title-name', class: 'title-class'},
  SaveBtn: {name: 'save-btn-name', class: 'save-btn-name'},
  buttons: [
    {name:'btn1name', class:'btn1class'},{name:'btn2name', class:'btn2class'}
  ],
  lockDialog: 1
}
</code></pre>

<p>Where:       <br />
- <strong>SaveBtn</strong> is a save button for the dialog     <br />
- <strong>Buttons</strong> are some extra action buttons added in the dialog   <br />
- <strong>Title</strong> is the title of the dialog   <br />
- <strong>wrapperClass</strong> is a class added to the wrapper of the dialog   <br />
- <strong>lockDialog</strong> is a way to prevent the dialog from closing even if another dialog was opened     </p>
<p><strong>Example:</strong>          </p>
<pre><code>// Adding dialog A
SBsdk.SBfunctions.dialog('&lt;div class=&quot;dialog-A&quot;&gt;Dom content here&lt;/div&gt;',{
  Title: &quot;Title&quot;,
  &quot;SaveBtn&quot; : 'save'
}); 
// Adding dialog B (closes dialog A and adds dialog B that is locked)
window.SBsdk.SBfunctions.dialog('&lt;div  class=&quot;dialog-B&quot;&gt;heyyy&lt;div&gt;', {
  lockDialog:1,
  Title: 'hello Title',
  SaveBtn: 'save me',
  buttons: [
    {name:'hello', class: 'helloClass'},
    {name:'hey', class: 'heyClass'}
  ]
});       
// Adding dialog C (keeps the locked dialog B and adds dialog C above it)
window.SBsdk.SBfunctions.dialog('&lt;div class=&quot;dialog-C&quot;&gt;heyyy&lt;div&gt;', {
  Title: 'hello Title',
  SaveBtn: 'save me',
  buttons: ['hello', 'hello2']
});                      
</code></pre>

<p><strong>B)</strong> To hook or get notified after the dialog has been opened go to <a href="../../sdk/events/#dialog"><strong>dialog event</strong></a> section    </p>
<p><strong>C)</strong> Dialog Actions</p>
<p>To manage the the dialog use the function        <br />
<code>SBsdk.SBfunctions.dialog_actions(dialog_wrapperClass, action);</code>          </p>
<p>The parameters:  <br />
- <strong>action</strong> is by default set to <strong>remove</strong>                      </p>
<p><strong>Example:</strong>    </p>
<pre><code>// To close a specific dialog whether locked or not              
SBsdk.SBfunctions.dialog_actions(dialog_wrapperClass);        

// To close all dialogs from page..          
SBsdk.SBfunctions.dialog_actions();               

// To close all dialogs but not the locked dialogs          
SBsdk.SBfunctions.dialog_actions('.sbsdkDialog:not(.dialog-locked)');         
</code></pre>

<hr />
<h4 id="carousel">Carousel</h4>
<p><strong>A)</strong> carousel:        <br />
call the function: <br />
<code>window.SBsdk.SBfunctions.carousel (wrapper_selector, options)</code>;       </p>
<p>The parameters:      <br />
-<strong>wrapper_selector</strong> is the wrapper of the list items  <br />
-<strong>options:</strong></p>
<pre><code>// The values given for the options below are the default values
options = {
  dots: false,
  speed: 300,
  slidesToShow: 1,
  slidesToScroll: 1,
  variableWidth: false,
  centerMode: false,
  adaptiveHeight: false,
  prevArrow: '', //html of prev elt
  nextArrow: '' //html of next elt
}
</code></pre>

<p><strong>B)</strong> initialize a carousel special for magnific popups:       </p>
<p><code>window.SBsdk.SBfunctions.magnific_popup_carousel (wrapperSelector, options)</code>;            </p>
<p>-<strong>wrapperSelector</strong>  is the selector of magnific popup wrapper ex <code>wrapperSelector = '.field-name-field-image-product  .mfp-gallery-image'</code>       <br />
-<strong>options:</strong></p>
<pre><code>// The values given for the options below are the default values
options = { 
  dots: false,
  speed: 300, 
  slidesToShow: 1, 
  slidesToScroll: 1, 
  variableWidth: false, 
  centerMode: false, 
  adaptiveHeight: false, 
  prevArrow: html of prev elt, 
  nextArrow: html of next elt
}
</code></pre>

<p><strong>Example:</strong>          </p>
<pre><code>var carousel_options = {
    slidesToShow: 4,
    slidesToScroll: 4,
    nextArrow: '&lt;i class=&quot;fa fa-arrow-right&quot;&gt;&lt;/i&gt;',
    prevArrow: '&lt;i class=&quot;fa fa-arrow-left&quot;&gt;&lt;/i&gt;',
  };
  window.SBsdk.SBfunctions.magnific_popup_carousel('.field-name-field-image-product  .mfp-gallery-image', carousel_options);
</code></pre>

<hr />
<h4 id="parallax">Parallax</h4>
<p>call the function: <br />
<code>window.SBsdk.SBfunctions.parallax (wrapper_selector, options)</code>;       </p>
<p>The parameters:      <br />
-<strong>wrapper_selector</strong> is the wrapper of the section where you should give it your <strong>bg image</strong> that will make the parallax effect in css       <br />
-<strong>options:</strong> </p>
<p>1- <em>option</em> <strong>name</strong>: <code>imageSrc</code> <strong>REQUIRED</strong>       <br />
<em>option</em> <strong>type</strong>: <code>path</code>       <br />
<em>option</em> <strong>description</strong>: You must provide a path to the image you wish to apply to the parallax effect.        </p>
<p>2- <em>option</em> <strong>name</strong>: <code>speed</code>        <br />
<em>option</em> <strong>type</strong>: <code>float</code>       <br />
<em>option</em> <strong>description</strong>: The speed at which the parallax effect runs. 0.0 means the image will appear fixed in place, and 1.0 the image will flow at the same speed as the page content. <code>default value (0.2)</code>.        </p>
<p>3- <em>option</em> <strong>name</strong>: <code>bleed</code>        <br />
<em>option</em> <strong>type</strong>: <code>number</code>       <br />
<em>option</em> <strong>description</strong>: You can optionally set the parallax mirror element to extend a few pixels above and below the mirrored element. This can hide slow or stuttering scroll events in certain browsers. <code>default value (0)</code>.        </p>
<p><strong>Example:</strong>          </p>
<pre><code>var wrapper_selector = '.wrapper-bg-parallax-image'; // or jQuery('.wrapper-bg-parallax-image')
var options = {
  'imageSrc': 'https://aaa/b/image.png',
  'speed' : 0.1
};
window.SBsdk.SBfunctions.parallax(wrapper_selector, options);
</code></pre>

<hr />
<h4 id="color-picker">Color Picker</h4>
<p>call the function: <br />
<code>window.SBsdk.SBfunctions.color_picker(input_selector, options)</code>;       </p>
<p>The parameters:      <br />
-<strong>input_selector</strong> is the text input field where the picker will set the hex code of the color chosen    <br />
-<strong>options:</strong></p>
<pre><code>// The values given for the options below are the default values
options = {
  color: &quot;#f00&quot;, // default value of the color input field
  allowEmpty:true, // if the input field is allowed to be empty
  showAlpha: true, // allows alpha transparency selection
  disabled: true, //  to disable the color picker or not
  clickoutFiresChange: true, //clicking outside of color picker would trigger the change if set to true
  chooseText: &quot;Alright&quot;, // change the okay btn text of the color picker
  cancelText: &quot;No way&quot;, // change the cancel btn text of the color picker
  showButtons: false, // removes the buttons of color picker and triggers a change on the clickout of the picker
  containerClassName: 'awesome', // add an additional class name to the container of the color picker popup
  replacerClassName: 'awesome', // add an additional class name to the color picker
}
</code></pre>

<p><strong>Example:</strong>          </p>
<pre><code>var options = {
  allowEmpty: true
}
  window.SBsdk.SBfunctions.magnific_popup_carousel('input.color-picker', options);
</code></pre>

<p><strong>Preview</strong>:         </p>
<p>before initialize function: <img alt="screen_shot" src="../../img/text-input-field.png" />        </p>
<p>after initialize function: <img alt="screen_shot" src="../../img/after-initialize-color-picker.png" />           </p>
<p>if opened the color picker: <img alt="screen_shot" src="../../img/color-picker-popup.png" />          </p>
<hr />
<h4 id="drag-ability">Drag Ability</h4>
<p>call the function: <br />
<code>window.SBsdk.SBfunctions.dragula(id_selector, options)</code>;       </p>
<p>The parameters:      <br />
-<strong>id_selector</strong> is the id of the wrapper of elements to be dragged ex. suppose <code>&lt;div id="wrapper"&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;/div&gt;</code> then <code>id_selector = wrapper</code>                        <br />
-<strong>options:</strong> (optional)                 </p>
<pre><code>options = {
  direction: &quot;&quot;, // could be &quot;vertical&quot; or &quot;horizontal&quot;
  moves: &quot;&quot;, // className of what should move the draggable item
}
</code></pre>

<p><strong>Example:</strong>                    </p>
<pre><code>//  Suppose we have the following structure:
//  &lt;table&gt;
//  &lt;tbody id=&quot;table-body&quot;&gt;
//  &lt;tr&gt;  &lt;span class=&quot;handle-class&quot;&gt;drag to move me&lt;/span&gt;  &lt;span class=&quot;row-data&quot;&gt; ... &lt;/span&gt;  &lt;/tr&gt;
//  &lt;tr&gt;  &lt;span class=&quot;handle-class&quot;&gt;drag to move me&lt;/span&gt;  &lt;span class=&quot;row-data&quot;&gt; ... &lt;/span&gt;  &lt;/tr&gt;
//  ...
//  &lt;/tbody&gt;
//  &lt;/table&gt;

var id_selector = 'table-body';
var options = {
  direction: 'vertical', // i want to move the rows vertically
  moves: 'handle-class' // i want to be able to drag the rows through the handle 
}
window.SBsdk.SBfunctions.dragula(id_selector, options);
</code></pre>

<hr />
<h4 id="messages">Messages</h4>
<p>list all the functions that can be used to print a message <code>window.SBsdk.SBfunctions.SBmessages</code>      </p>
<pre><code>console.log (window.SBsdk.SBfunctions.SBmessages);      
</code></pre>

<p>To set a message simply call <code>window.SBsdk.SBfunctions.SBmessages.set_message(msg, type, options);</code>       <br />
<strong>parameters</strong>:   <br />
-<strong>msg</strong> is a String         <br />
-<strong>type</strong> is a String -- <em>possible values</em>: success, warning, error          <br />
-<strong>options</strong>  -- (Optional)                 </p>
<pre><code>options = {        
  positionInWrapperId: 'the-id-of-wrapper-you-want-to-append-this-to',       
  className : 'give-custom-class-name-for-the-alert-div',       
  scrollToError : 1 (Only for type error)      
}                
</code></pre>

<p><strong>Examples</strong>: </p>
<pre><code>    window.SBsdk.SBfunctions.SBmessages.set_message('hello there error', 'error');
    window.SBsdk.SBfunctions.SBmessages.set_message('hello there success', 'success');
    window.SBsdk.SBfunctions.SBmessages.set_message('hello there warning', 'warning');
    window.SBsdk.SBfunctions.SBmessages.set_message('hello there warning in navbar position', 'warning', {
      positionInWrapperId :'navbar'
    });     
    window.SBsdk.SBfunctions.SBmessages.set_message('error', 'error', {className: 'sdk-errors'});
</code></pre>

<p><strong>Preview</strong>:      <br />
<img alt="screen_shot" src="../../img/screen_shot.png" />      </p>
<hr />
<h4 id="dom-generation-management">Dom Generation &amp; Management</h4>
<p>To generate dom use: <code>window.SBsdk.SBfunctions.SBmessages.generateDom(type, options);</code>         </p>
<p>For all this function details click <a href="../../sdk/dom-generation">here</a></p>
<hr />
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../events/" class="btn btn-neutral float-right" title="Events"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../globals/" class="btn btn-neutral" title="Globals"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../globals/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../events/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
